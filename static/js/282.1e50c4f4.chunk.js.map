{"version":3,"file":"static/js/282.1e50c4f4.chunk.js","mappings":"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","sources":["webpack://react-01/./src/components/profile/Profileinfo/ProfileInfo.module.css?c8e4","components/profile/Profileinfo/ProfileStatusWithHooks.js","components/profile/Profileinfo/ProfileInfo.js","webpack://react-01/./src/components/profile/myposts/myposts.module.css?db43","webpack://react-01/./src/components/profile/myposts/Post/post.module.css?1aa3","components/profile/myposts/Post/post.js","components/profile/myposts/myposts.js","components/profile/myposts/myPostsContainer.js","components/profile/Profile.js","components/profile/ProfileContainer.js","hoc/withAuthRedirect.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"content\":\"ProfileInfo_content__3C3uY\",\"descriptionContainer\":\"ProfileInfo_descriptionContainer__qBaIh\",\"description\":\"ProfileInfo_description__+3Kfl\",\"nickname\":\"ProfileInfo_nickname__fzYdI\",\"aboutMe\":\"ProfileInfo_aboutMe__TkTPW\",\"status\":\"ProfileInfo_status__B49Nl\",\"avatarContainer\":\"ProfileInfo_avatarContainer__Yv2ws\",\"avatar\":\"ProfileInfo_avatar__5oVw3\",\"input_file\":\"ProfileInfo_input_file__RPSw-\",\"uploadIco\":\"ProfileInfo_uploadIco__3JHx1\"};","import {useEffect, useState} from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n    const activateMode = () => {\r\n        setEditMode(true)\r\n    }\r\n    const deactivateMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    const onStatusChange = (e) => {\r\n        setStatus(e.currentTarget.value);\r\n    }\r\n\r\n    return (\r\n     <>\r\n        {editMode? <input autoFocus={true} onBlur={deactivateMode} onChange={onStatusChange} value={status}/>\r\n            : <span onDoubleClick={activateMode}> {status? status: '-----'}</span>}\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import s from './ProfileInfo.module.css';\r\nimport userPhoto from \"../../../Assets/Images/user.png\";\r\nimport UploadIcon from \"../../../Assets/Images/UploadIcon.png\"\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n    const onMainPhotoSelected = (e) => {\r\n        if (e.target.files.length) {\r\n            let file = e.target.files[0]\r\n            props.savePhoto(file)\r\n        }\r\n    }\r\n\r\n    const MyPage = (element) => (props.userId ? '' : element)\r\n\r\n    return <div>\r\n        <div className={s.content}>\r\n            <img src=\"https://wallbox.ru/resize/1280x1024/wallpapers/main2/201717/abstrakcia-tekstura-fon-kvadraty.jpg\"\r\n                 alt=\"\"/>\r\n        </div>\r\n        <div className={s.descriptionContainer}>\r\n            <div className={s.avatarContainer}>\r\n                <img src={props.profile.photos.large ? props.profile.photos.large : userPhoto}\r\n                     className={s.avatar}\r\n                     alt='' />\r\n                <div>{MyPage(<label htmlFor=\"input_file\"><img className={s.uploadIco}\r\n                                                              src={UploadIcon} alt={'Upload avatar'}/></label>)}\r\n                </div>\r\n                <div>{MyPage(<input type=\"file\" onChange={onMainPhotoSelected}\r\n                                    className={s.input_file} id=\"input_file\"/>)}</div>\r\n            </div>\r\n            <div className={s.description}>\r\n                <div className={s.nickname}>{props.profile.fullName}</div>\r\n                <div className={s.aboutMe}>About me: {props.profile.aboutMe? props.profile.aboutMe :'_____'}</div>\r\n                <div className={s.status}><ProfileStatusWithHooks status={props.status}\r\n                                                                  updateStatus={props.updateStatus}/></div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default ProfileInfo;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"myposts_item__ApZ8f\",\"myPosts\":\"myposts_myPosts__c6ala\",\"textarea\":\"myposts_textarea__uYWoo\",\"button\":\"myposts_button__RR-5d\",\"postsElement\":\"myposts_postsElement__gsaFU\"};","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"post_item__-m+2Y\",\"post\":\"post_post__fAOjy\",\"like\":\"post_like__AS4gc\"};","import s from './post.module.css';\r\nimport userPhoto from \"../../../../Assets/Images/user.png\";\r\n\r\nconst Post = (props) => {\r\n  return (\r\n  <div>\r\n    <div className={s.item}>\r\n      <img src={ props.profile.photos.small? props.profile.photos.small : userPhoto} alt=\"\"/> <span className={s.post}>{props.message}</span>\r\n      <div className={s.like}>\r\n        <span>{props.likesCount} likes</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default Post;\r\n","import s from './myposts.module.css';\r\nimport Post from \"./Post/post\";\r\nimport React from \"react\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {maxLength, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/formsControls/formsControls\";\r\n\r\nconst MyPosts = React.memo(props => {\r\n    let postsElement = props.profilePage.posts.map(p => <Post message={p.message} likesCount={p.likesCount} key={p.id} profile={props.profile}/>)\r\n\r\n    let addNewPost = (value) => {\r\n        props.addPost(value.newPost)\r\n    }\r\n    return (\r\n        <div className={s.item}>\r\n            <div className={s.myPosts}>{props.profile.fullName} posts:</div>\r\n            {props.userId ? '' : <AddPostReduxForm onSubmit={addNewPost}/>}\r\n            <div className={s.postsElement}>\r\n                {postsElement}\r\n            </div>\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nconst AddPostForm = (props) => {\r\n    return (<form onSubmit={props.handleSubmit}>\r\n             <div>\r\n                 <Field component={Textarea} name={\"newPost\"} className={s.textarea}\r\n                        validate={[required(\" \"), maxLength(150)]}/>\r\n             </div>\r\n             <div>\r\n                <button className={s.button}>Add post</button>\r\n             </div>\r\n            </form>\r\n    )\r\n}\r\n\r\nconst AddPostReduxForm = reduxForm({\r\n    form: 'posts'\r\n})(AddPostForm)\r\n\r\nexport default MyPosts;\r\n","import {addPost} from \"../../../Redux/profile-reducer\";\r\nimport MyPosts from \"./myposts\"\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToProps = (state, props) => {\r\n    return{\r\n        profilePage: state.profilePage,\r\n        profile: props.profile,\r\n        userId: props.userId,\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, {addPost})(MyPosts);\r\n\r\nexport default MyPostsContainer;","import ProfileInfo from \"./Profileinfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./myposts/myPostsContainer\";\r\nimport Preloader from \"../common/preloader/Preloader\";\r\n\r\nconst Profile = (props) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n\r\n    return <div>\r\n        <ProfileInfo userId={props.userId} profile={props.profile}\r\n                     status={props.status} updateStatus={props.updateStatus}\r\n                     savePhoto={props.savePhoto}/>\r\n        <MyPostsContainer profile={props.profile} userId={props.userId}/>\r\n    </div>\r\n}\r\n\r\nexport default Profile;","import React from \"react\";\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getUsersProfile, getUsersStatus, savePhoto, setUsersProfile, updateStatus} from \"../../Redux/profile-reducer\";\r\nimport {useParams} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.param.userId;\r\n        if (!userId) {\r\n            userId = this.props.myId;\r\n        }\r\n        this.props.getUsersProfile(userId)\r\n        this.props.getUsersStatus(userId)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n        if (this.props.param.userId != prevProps.param.userId)\r\n        this.refreshProfile()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props} updateStatus={this.props.updateStatus} userId={this.props.param.userId}/>\r\n        )\r\n    }\r\n}\r\nlet mapStateToProps = (state) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    myId: state.auth.userId,\r\n    login: state.auth.login,\r\n    isAuth: state.auth.isAuth,\r\n})\r\nconst TakeParams = (props) => {\r\n    return <ProfileContainer {...props} updateStatus={props.updateStatus} param={useParams()}/>\r\n}\r\nexport default compose(\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, {\r\n        setUsersProfile, getUsersProfile,\r\n        getUsersStatus, updateStatus, savePhoto\r\n    }),)\r\n(TakeParams);","import {Navigate} from \"react-router-dom\";\r\nimport React from \"react\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Navigate to='/login'/>;\r\n\r\n            return <Component {...this.props} />\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);}"],"names":["props","useState","editMode","setEditMode","status","setStatus","useEffect","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","value","onDoubleClick","MyPage","element","userId","className","s","src","alt","profile","photos","large","userPhoto","htmlFor","type","target","files","length","file","savePhoto","id","fullName","aboutMe","small","message","likesCount","MyPosts","React","postsElement","profilePage","posts","map","p","AddPostReduxForm","onSubmit","addPost","newPost","reduxForm","form","handleSubmit","Field","component","Textarea","name","validate","required","maxLength","connect","state","Preloader","ProfileContainer","this","param","myId","getUsersProfile","getUsersStatus","refreshProfile","prevProps","prevState","snapshot","compose","withAuthRedirect","auth","login","isAuth","setUsersProfile","useParams","mapStateToPropsForRedirect","Component","RedirectComponent","to"],"sourceRoot":""}